!function(a){a.fn.hex=function(b){var c=a.extend({show:!0,direction:"right",background:"#eee",duration:10,delay:100},b),d=String.fromCharCode(65+Math.floor(26*Math.random())),e=d+Date.now();c.show?a("html head").append("<style type='text/css'>.hex"+e+":before {content: ''; width: 0; height: 0; border-bottom: 12px solid "+c.background+"; border-left: 22px solid transparent; border-right: 22px solid transparent; position: absolute; top: -12px;} .hex"+e+" {z-index: inherit; margin-top: 12px; width: 44px; height: 25px; background-color: "+c.background+"; position: absolute; top: 300px; margin-left: 1px;} .hex"+e+":after { content: ''; width: 0; position: absolute; bottom: -12px; border-top: 12px solid "+c.background+"; border-left: 22px solid transparent; border-right: 22px solid transparent;}</style>"):a("html head").append("<style type='text/css'>.hex"+e+":before {content: ''; width: 0; height: 0; border-bottom: 12px solid "+c.background+"; border-left: 22px solid transparent; border-right: 22px solid transparent; position: absolute; top: -12px;} .hex"+e+" {z-index: inherit; display: none; opacity: 0; margin-top: 12px; width: 44px; height: 25px; background-color: "+c.background+"; position: absolute; top: 300px; margin-left: 1px;} .hex"+e+":after { content: ''; width: 0; position: absolute; bottom: -12px; border-top: 12px solid "+c.background+"; border-left: 22px solid transparent; border-right: 22px solid transparent;}</style>"),a(this).each(function(){var c=a(this).width();console.log("w:"+c);var d=a(this).height();console.log("h:"+d);var f=Math.ceil(c/40)*Math.ceil(d/25),g=-30;console.log("x:"+g);var h=-30;console.log("y:"+h);for(var i=0,j=0,k=0;f>k;k++)j>Math.ceil(c/40)&&(i++,j=0),0==i%2?a(this).append("<div class='hex"+e+"' style='margin-left: 23px; top:"+(h+36*i)+"px; left:"+(g+44*j)+"px;'></div>"):a(this).append("<div class='hex"+e+"' style='top:"+(h+36*i)+"px; left:"+(g+44*j)+"px;'></div>"),console.log("y_val: "+(h+37*i)),j++}),a(this).each(function(){a(".hex"+e,this).each(function(){if("right"==c.direction)var b=parseInt(a(this).css("left"));else if("left"==c.direction)var b=parseInt(a(this).parent().width())-parseInt(a(this).css("left"));else if("up"==c.direction)var b=a(this).parent().height()-a(this).offset().top;else if("down"==c.direction)var b=a(this).offset().top;else if("random"==c.direction)var b=200*Math.random();else if("center"==c.direction){var d=parseInt(a(this).parent().width())/2,e=parseInt(a(this).css("left")),f=parseInt(a(this).parent().height())/2,g=parseInt(a(this).css("top"));if(e>d)if(g>f)var b=parseInt(e)-parseInt(d)+g;else var b=parseInt(e)-parseInt(d)-g;else if(g>f)var b=parseInt(d)-parseInt(e)-g;else var b=parseInt(d)-parseInt(e)-g}c.duration<=0&&(c.duration=1),c.delay<0&&(c.delay=1);var h=c.delay+b*c.duration*Math.random();c.show?a(this).delay(h).animate({opacity:0},600,function(){a(this).css("display","none")}):(a(this).css("display","block"),a(this).delay(h).animate({opacity:1},600))})})}}(jQuery);